<!DOCTYPE>

<html>

	<head>
		<title>cytoscape-cxtmenu.js demo</title>

		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
		<meta charset="UTF-8">
		<link href="font-awesome-4.0.3/css/font-awesome.css" rel="stylesheet" type="text/css" />
		
		<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
		<script src="../bootstrap/js/bootstrap.min.js"></script>
		<script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>
		<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
		<link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<!-- for testing with local version of cytoscape.js -->
		<!--<script src="../cytoscape.js/build/cytoscape.js"></script>-->

		<script src="cytoscape-cxtmenu.js"></script>
		<script src="cytoscape-cxtmenu2.js"></script>
		<link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">

		<script src="graph_edit.js"></script>

		<link href="app_basic.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript">
		var x = 2; //initlal text box count
		var max_fields      = 10; //maximum input boxes allowed

		function test()
		{
			alert("hello");
		}
		function add_remove()
		{
			//alert(this.id);
			
		            
		        
		        if($(this).hasClass('btn-success'))
		        {
		        	var wrapper         = $(".input_fields_wrap"); //Fields wrapper
				           // $(wrapper).append('<div><input type="text" name="mytext[]"/><input type="text" name="mytext[]"/><a href="#" class="remove_field">Remove</a></div>'); //add input box


		            $(wrapper).append('<div><label for="Field '+x+'">Field '+x+'</label>		            <div class="row">	<div class="col-md-5">			           <input type="text" placeholder="Id '+x+' ..." id="node_id'+x+'" name="node_id'+x+'" class="text ui-widget-content ui-corner-all">			            </div>			            <div class="col-md-5">		            <input type="text" placeholder="Key '+x+' ..." id="node_key'+x+'" class="text ui-widget-content ui-corner-all">			            </div>			            <div class="col-md-2">			           <button id= "add_field_button"class="btn btn-success btn-add" type="button" onclick="add_remove.call(this)" ><span class="glyphicon glyphicon-plus-sign"></span></button>			            </div>			            </div></div>');

		        	$(this).removeClass('btn-success');
		        	$(this).addClass('btn-danger');
			            
			        $(this).html('<span class="glyphicon glyphicon-minus"></span>');

			       x++;
		        }
		        else
		        {
		        	$(this).parent('div').parent('div').parent('div').remove();
		        }
		        
		}
		$(function(){
			var form2;
		var	dialog2 = $( "#dialog-add-node" ).dialog({
						autoOpen: true,
						minHeight:"auto",
						width: "auto",
						modal: true,
						buttons: {
							"Update": test,
							Cancel: function() {
								dialog.dialog( "close" );
							}
						},
						close: function() {
							form2[ 0 ].reset();
							//allFields.removeClass( "ui-state-error" );
						}
					});

				form2 = dialog2.find( "form" ).on( "submit", function( event ) {
					event.preventDefault();
					test();
				});
			});
		</script>
	</head>
	<body>
		<div id ="dialog-add-node" title="Add Node">
				<form id="add_node_form" name="add_node_form">
			        <div class="form-group input_fields_wrap">
			            <div>
			            <label for="Field 1">Field 1</label>
			            <div class="row">
			            <div class="col-md-5">
			            <input type="text" placeholder="Id 1 ..." id="node_id1" name="node_id1" class="text ui-widget-content ui-corner-all">
			            </div>
			            <div class="col-md-5">
			            <input type="text" placeholder="Key 1 ..." id="node_key1" class="text ui-widget-content ui-corner-all">
			            </div>
			            <div class="col-md-2">
			            <button id= "add_field_button1" class="btn btn-success" type="button"  onclick="add_remove.call(this)"><span class="glyphicon glyphicon-plus-sign"></span></button>
			            </div>
			            </div>
			            </div>	
					</div>
					</form>
		</div>
	</body>
